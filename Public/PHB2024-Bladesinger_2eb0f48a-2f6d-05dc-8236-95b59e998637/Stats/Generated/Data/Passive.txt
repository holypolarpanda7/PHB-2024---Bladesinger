new entry "Bladesong_Boost"
type "PassiveData"
using "Bladesong_Boost"
data "DisplayName" "ha3b4c5d-6e7f-8091-a2b3-c4d5e6f70819"
data "Description" "hb4c5d6e-7f80-91a2-b3c4-d5e6f7081929"
data "Boosts" "ActionResource(Movement,2,0);Advantage(Skill,Acrobatics);RollBonus(SavingThrow,IntelligenceModifier,Constitution);IF(AbilityGreaterThan('Intelligence',11,context.Source)):AC(1);IF(AbilityGreaterThan('Intelligence',13,context.Source)):AC(1);IF(AbilityGreaterThan('Intelligence',15,context.Source)):AC(1);IF(AbilityGreaterThan('Intelligence',17,context.Source)):AC(1);IF(AbilityGreaterThan('Intelligence',19,context.Source)):AC(1);IF(AbilityGreaterThan('Intelligence',21,context.Source)):AC(1);IF(AbilityGreaterThan('Intelligence',23,context.Source)):AC(1);"

new entry "TraininginWarandSong"
type "PassiveData"
using "TraininginWarandSong"
data "DisplayName" "h7c8d9e0f-1a2b-3c4d-5e6f-7081920a3b4c"
data "Description" "h8d9e0f1a-2b3c-4d5e-6f70-8192a03b4c5d"
data "Icon" "PassiveFeature_TrainingInWarAndSong"
data "Properties" "Highlighted"

new entry "Bladesong_Unlock"
type "PassiveData"
using "Bladesong_Unlock"
data "Boosts" "UnlockSpell(Shout_Bladesong_Dismiss);UnlockSpell(Projectile_Bladesong_Finisher)"

new entry "Bladesong_Equipment_Monitor"
type "PassiveData"
data "DisplayName" "hbf8a1c2d-3e4f-5061-7283-94a5b6c7d8e9"
data "Description" "hcf9b2d3e-4f50-6172-8394-a5b6c7d8e9f0"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnTurn;OnEquip;OnCombatStarted;OnStatusApplied"
data "StatsFunctors" "ApplyEquipmentStatus(MeleeMainHand,BLADEWORK_CUSTOM,100,10);ApplyEquipmentStatus(MeleeOffHand,BLADEWORK_CUSTOM,100,10);ApplyEquipmentStatus(RangedMainHand,BLADEWORK_CUSTOM,100,10)"

// Override charge passives to remove weapon message restriction (allows all weapons)
new entry "Bladesong_Healing"
type "PassiveData"
using "Bladesong_Healing"
data "Conditions" "IsWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit) and not HasAnyStatus({'BLADESONG_ARMOR_MESSAGE','BLADESONG_SHIELD_MESSAGE'},{},{},context.Source) and Combat();"

new entry "Bladesong_Damage"
type "PassiveData"
using "Bladesong_Damage"
data "Conditions" "((IsSpell() and not IsRecastSpell()) and not IsCantrip() and not IsWeaponAttack() and not HasAnyStatus({'BLADESONG_ARMOR_MESSAGE','BLADESONG_SHIELD_MESSAGE'},{},{},context.Source) or (StatusId('SHIELD') and context.HasContextFlag(StatsFunctorContext.OnStatusApply))) and Combat();"
